//*****************************************************************************
//
// モデルマネージャークラス
//
// Author		: Kenji Kabutomori
//
//*****************************************************************************

//*****************************************************************************
// インクルード
//*****************************************************************************
#include <windows.h>
// basic
#include "basic/application.h"

// graphic
#include "interface/graphic/model/model_manager.h"
#ifdef _USING_OPENGL_
//#include "interface/graphic/model/opengl/gl_model.h"
#endif
#ifdef _USING_DIRECTX_
#include "dx_model.h"
#endif

// common
#include "common/common.h"

//*****************************************************************************
// マクロ定義
//*****************************************************************************

//*****************************************************************************
// プロトタイプ宣言
//*****************************************************************************

//*****************************************************************************
// グローバル変数
//*****************************************************************************

//=============================================================================
// デフォルトコンストラクタ
//=============================================================================
CModelManager::CModelManager(CDeviceHolder* device_holder)
{
	// デバイスホルダーの設定
	device_holder_ = device_holder;
}

//=============================================================================
// デストラクタ
//=============================================================================
CModelManager::~CModelManager(void)
{
}

//=============================================================================
// 初期化処理
//=============================================================================
bool CModelManager::Init(void)
{
	bool bRet;

	bRet = CFileManager::Init();

	return bRet;
}

//=============================================================================
// 終了処理
//=============================================================================
void CModelManager::Uninit(void)
{
	CFileManager::Uninit();
}

//=============================================================================
// 作成処理
//=============================================================================
CModel* CModelManager::Create(std::string filename)
{
	CModel* model = NULL;

#ifdef _USING_OPENGL_
	//model = new CGLModel(device_holder_);
#endif

#ifdef _USING_DIRECTX_
	model = new CDXModel(device_holder_);
#endif

	// 初期化
	//if(!model->Init())
	{
		return NULL;
	}

	// ロード
	//if(!model->Load(filename.c_str()))
	{
		return NULL;
	}

	return model;
}

//=============================================================================
// 開放処理
//=============================================================================
void CModelManager::ReleaseData(CModel* model)
{
	//model->Release();
}

//---------------------------------- EOF --------------------------------------
