//*****************************************************************************
//
// ライトクラス
//
// Author		: Kenji Kabutomori
//
//*****************************************************************************

//*****************************************************************************
// インクルード
//*****************************************************************************
#include "basic/application.h"

// graphic
#ifdef _USING_OPENGL_
#include "interface/graphic/light/opengl/gl_light.h"
#endif
#ifdef _USING_DIRECTX_
#include "dx_light.h"
#endif
#include "interface/graphic/light/light.h"

// common
#include "common/common.h"

//*****************************************************************************
// マクロ定義
//*****************************************************************************

//*****************************************************************************
// プロトタイプ宣言
//*****************************************************************************

//*****************************************************************************
// グローバル変数
//*****************************************************************************

//=============================================================================
// コンストラクタ
//=============================================================================
CLight::CLight(CDeviceHolder* device_holder) :
light_index_(-1),
light_type_(TYPE_MAX),
vector_(0.0f, 0.0f, 0.0f),
diffuse_(1.0f, 1.0f, 1.0f, 1.0f),
ambient_(0.0f, 0.0f, 0.0f, 0.0f),
specular_(0.0f, 0.0f, 0.0f, 0.0f),
emissive_(0.0f, 0.0f, 0.0f, 0.0f),
spec_power_(0.0f),
position_(0.0f, 0.0f, 0.0f, 1.0f),
att_constant_(1.0f),
att_linear_(0.0f),
att_quadratic_(0.0f)
{
	device_holder_ = device_holder;
}

//=============================================================================
// デストラクタ
//=============================================================================
CLight::~CLight(void)
{
}

//=============================================================================
// 作成処理
//=============================================================================
CLight* CLight::Create(CDeviceHolder* device_holder)
{
	CLight* light = NULL;

#ifdef _USING_DIRECTX_
	light = new CDXLight(pGraphicsDevice);
#endif

#ifdef _USING_OPENGL_
	light = new CGLLight(device_holder);
#endif

	if(!light->Init())
	{
		return NULL;
	}

	return light;
}

//=============================================================================
// 初期化処理
//=============================================================================
bool CLight::Init(void)
{
	return true;
}

//=============================================================================
// 開放処理
//=============================================================================
void CLight::Uninit(void)
{
}

//---------------------------------- EOF --------------------------------------
